import{_ as i,c as a,a5 as e,o as t}from"./chunks/framework.flrwEJp-.js";const n="/JutulDarcy.jl/previews/PR82/assets/okktsuu.D93Nb0Uf.jpeg",l="/JutulDarcy.jl/previews/PR82/assets/yxicihx.CZabqs9-.jpeg",p="/JutulDarcy.jl/previews/PR82/assets/ycnttba.wP14tlEE.jpeg",h="/JutulDarcy.jl/previews/PR82/assets/uhsotmm.CdWBOE5c.jpeg",k="/JutulDarcy.jl/previews/PR82/assets/zagkvms.CSE_cKXf.jpeg",r="/JutulDarcy.jl/previews/PR82/assets/nmvatnd.BScmkLTO.jpeg",o="/JutulDarcy.jl/previews/PR82/assets/hlumqax.C9i4lYNt.jpeg",d="/JutulDarcy.jl/previews/PR82/assets/bogqwww.TSjshQRV.jpeg",E="/JutulDarcy.jl/previews/PR82/assets/hklqjqs.x7blKx_p.jpeg",g="/JutulDarcy.jl/previews/PR82/assets/hnakubq.BZCoWMDa.jpeg",c="/JutulDarcy.jl/previews/PR82/assets/rumrxnw.CslTWdLw.jpeg",u="/JutulDarcy.jl/previews/PR82/assets/ucewvuc.CYNEjJIr.jpeg",B=JSON.parse('{"title":"Validation of Jutul against existing reservoir simulators","description":"","frontmatter":{},"headers":[],"relativePath":"examples/validation_mrst.md","filePath":"examples/validation_mrst.md","lastUpdated":null}'),y={name:"examples/validation_mrst.md"};function m(F,s,C,b,v,f){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="Validation-of-Jutul-against-existing-reservoir-simulators" tabindex="-1">Validation of Jutul against existing reservoir simulators <a class="header-anchor" href="#Validation-of-Jutul-against-existing-reservoir-simulators" aria-label="Permalink to &quot;Validation of Jutul against existing reservoir simulators {#Validation-of-Jutul-against-existing-reservoir-simulators}&quot;">​</a></h1><p>This example contains validation of Jutul against <a href="https://www.mrst.no" target="_blank" rel="noreferrer">MRST</a>. In general, minor differences are observed. These can be traced back to a combination of different internal timestepping done by the simulators and that JutulDarcy by default uses a multisegment well formulation while MRST uses a standard instantaneous equilibrium model without well bore storage terms. These differences are most evident when simulators start up.</p><p>These cases have been exported using the MRST <code>jutul</code> module which can export MRST or Eclipse-type of cases to a JutulDarcy-compatible input format. They can then be simulated using <a href="/JutulDarcy.jl/previews/PR82/man/basics/input_files#JutulDarcy.simulate_mrst_case"><code>simulate_mrst_case</code></a>.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JutulDarcy, Jutul</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GLMakie</span></span></code></pre></div><h2 id="Define-a-few-utilities-for-plotting-the-MRST-results" tabindex="-1">Define a few utilities for plotting the MRST results <a class="header-anchor" href="#Define-a-few-utilities-for-plotting-the-MRST-results" aria-label="Permalink to &quot;Define a few utilities for plotting the MRST results {#Define-a-few-utilities-for-plotting-the-MRST-results}&quot;">​</a></h2><p>We are going to compare well responses against pre-computed results stored inside the JutulDarcy module.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mrst_case_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(name)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    base_path, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> splitdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pathof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(JutulDarcy))</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    joinpath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(base_path, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;..&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mrst&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$(name)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.mat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mrst_solution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">extra[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:mrst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;extra&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mrst_solution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mrst_well_index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mrst_result, k)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> findfirst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">isequal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$k</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">vec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(mrst_result[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;names&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_mrst_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wdata, ref, wname, t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :bhp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    yscale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;m³/s&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :bhp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :bhp</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;bhp&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        yscale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Pa&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    elseif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :qos</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :orat</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;qOs&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    elseif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :qws</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :wrat</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;qWs&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    elseif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :qgs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        tname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :grat</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        mname </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;qGs&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    else</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Not supported: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    jutul </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> wdata[tname]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mrst </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ref[mname][:, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mrst_well_index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ref, wname)]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (jutul, mrst, tname, yscale)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wsol, ref, rep_t, t, wells_keys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wsol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Figure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ax </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Axis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fig[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], xlabel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;time (days)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    yscale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    T </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rep_t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">./</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3600</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (w, d) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> wsol</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(w </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> wells_keys)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            continue</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        jutul, mrst, l, yscale </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> get_mrst_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d, ref, w, t)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        lines!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ax, T, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.(jutul), label </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        scatter!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ax, T, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">abs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.(mrst), markersize </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    end</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    axislegend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ax</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ylabel[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$yscale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    fig</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">end</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>plot_comparison (generic function with 2 methods)</span></span></code></pre></div><h2 id="The-Egg-model-(oil-water-compressible)" tabindex="-1">The Egg model (oil-water compressible) <a class="header-anchor" href="#The-Egg-model-(oil-water-compressible)" aria-label="Permalink to &quot;The Egg model (oil-water compressible) {#The-Egg-model-(oil-water-compressible)}&quot;">​</a></h2><p>A two-phase model that is taken from the first member of the EGG ensemble. For more details, see the paper where the ensemble is introduced:</p><p><a href="https://doi.org/10.1002/gdj3.21" target="_blank" rel="noreferrer">Jansen, Jan-Dirk, et al. &quot;The egg model–a geological ensemble for reservoir simulation.&quot; Geoscience Data Journal 1.2 (2014): 192-195.</a></p><h3 id="Simulate-model" tabindex="-1">Simulate model <a class="header-anchor" href="#Simulate-model" aria-label="Permalink to &quot;Simulate model {#Simulate-model}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">egg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> simulate_mrst_case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mrst_case_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;egg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), info_level </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> egg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rep_t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> egg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mrst_solution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(egg);</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Reading input file /home/runner/work/JutulDarcy.jl/JutulDarcy.jl/src/../test/mrst/egg.mat.</span></span>
<span class="line"><span>[ Info: This is the first call to simulate_mrst_case. Compilation may take some time...</span></span>
<span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Starting simulation of immiscible system with 18553 cells and 2 phases and 2 components.</span></span>
<span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Model was successfully simulated.</span></span></code></pre></div><h3 id="Compare-well-responses" tabindex="-1">Compare well responses <a class="header-anchor" href="#Compare-well-responses" aria-label="Permalink to &quot;Compare well responses {#Compare-well-responses}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">injectors </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:INJECT1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:INJECT2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:INJECT3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:INJECT4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:INJECT5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:INJECT6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:INJECT7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">producers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:PROD1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:PROD2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:PROD3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:PROD4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>4-element Vector{Symbol}:</span></span>
<span class="line"><span> :PROD1</span></span>
<span class="line"><span> :PROD2</span></span>
<span class="line"><span> :PROD3</span></span>
<span class="line"><span> :PROD4</span></span></code></pre></div><h4 id="Bottom-hole-pressures" tabindex="-1">Bottom hole pressures <a class="header-anchor" href="#Bottom-hole-pressures" aria-label="Permalink to &quot;Bottom hole pressures {#Bottom-hole-pressures}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:bhp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, injectors)</span></span></code></pre></div><p><img src="`+n+'" alt=""></p><h4 id="Oil-rates" tabindex="-1">Oil rates <a class="header-anchor" href="#Oil-rates" aria-label="Permalink to &quot;Oil rates {#Oil-rates}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:qos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, producers)</span></span></code></pre></div><p><img src="'+l+'" alt=""></p><h4 id="Water-rates" tabindex="-1">Water rates <a class="header-anchor" href="#Water-rates" aria-label="Permalink to &quot;Water rates {#Water-rates}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:qws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, producers)</span></span></code></pre></div><p><img src="'+p+`" alt=""></p><h2 id="SPE1-(black-oil,-disgas)" tabindex="-1">SPE1 (black oil, disgas) <a class="header-anchor" href="#SPE1-(black-oil,-disgas)" aria-label="Permalink to &quot;SPE1 (black oil, disgas) {#SPE1-(black-oil,-disgas)}&quot;">​</a></h2><p>A shortened version of the SPE1 benchmark case.</p><p><a href="http://dx.doi.org/10.2118/9723-PA" target="_blank" rel="noreferrer">Odeh, A.S. 1981. Comparison of Solutions to a Three-Dimensional Black-Oil Reservoir Simulation Problem. J Pet Technol 33 (1): 13–25. SPE-9723-PA</a></p><p>For comparison against other simulators, see the equivialent JutulSPE1 example in the Jutul module for <a href="https://www.mrst.no" target="_blank" rel="noreferrer">MRST</a></p><h3 id="Simulate-model-2" tabindex="-1">Simulate model <a class="header-anchor" href="#Simulate-model-2" aria-label="Permalink to &quot;Simulate model {#Simulate-model-2}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spe1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> simulate_mrst_case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mrst_case_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;spe1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), info_level </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> spe1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rep_t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> spe1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mrst_solution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(spe1);</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Reading input file /home/runner/work/JutulDarcy.jl/JutulDarcy.jl/src/../test/mrst/spe1.mat.</span></span>
<span class="line"><span>[ Info: This is the first call to simulate_mrst_case. Compilation may take some time...</span></span>
<span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Starting simulation of black-oil system with 300 cells and 3 phases and 3 components.</span></span>
<span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Model was successfully simulated.</span></span></code></pre></div><h3 id="Compare-well-responses-2" tabindex="-1">Compare well responses <a class="header-anchor" href="#Compare-well-responses-2" aria-label="Permalink to &quot;Compare well responses {#Compare-well-responses-2}&quot;">​</a></h3><h4 id="Bottom-hole-pressures-2" tabindex="-1">Bottom hole pressures <a class="header-anchor" href="#Bottom-hole-pressures-2" aria-label="Permalink to &quot;Bottom hole pressures {#Bottom-hole-pressures-2}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:bhp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><img src="`+h+'" alt=""></p><h4 id="Gas-rates" tabindex="-1">Gas rates <a class="header-anchor" href="#Gas-rates" aria-label="Permalink to &quot;Gas rates {#Gas-rates}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:qgs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:PRODUCER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></div><p><img src="'+k+`" alt=""></p><h2 id="SPE3-(black-oil,-vapoil)" tabindex="-1">SPE3 (black oil, vapoil) <a class="header-anchor" href="#SPE3-(black-oil,-vapoil)" aria-label="Permalink to &quot;SPE3 (black oil, vapoil) {#SPE3-(black-oil,-vapoil)}&quot;">​</a></h2><p>A black-oil variant of the SPE3 benchmark case.</p><p><a href="http://dx.doi.org/10.2118/12278-PA" target="_blank" rel="noreferrer">Kenyon, D. &quot;Third SPE comparative solution project: gas cycling of retrograde condensate reservoirs.&quot; Journal of Petroleum Technology 39.08 (1987): 981-997</a></p><h3 id="Simulate-model-3" tabindex="-1">Simulate model <a class="header-anchor" href="#Simulate-model-3" aria-label="Permalink to &quot;Simulate model {#Simulate-model-3}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spe3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> simulate_mrst_case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mrst_case_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;spe3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), info_level </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> spe3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rep_t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> spe3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mrst_solution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(spe3);</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Reading input file /home/runner/work/JutulDarcy.jl/JutulDarcy.jl/src/../test/mrst/spe3.mat.</span></span>
<span class="line"><span>[ Info: This is the first call to simulate_mrst_case. Compilation may take some time...</span></span>
<span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Starting simulation of black-oil system with 324 cells and 3 phases and 3 components.</span></span>
<span class="line"><span>\x1B[31;1mPRODUCER:\x1B[0m Approaching zero rate, disabling producer for current step</span></span>
<span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Model was successfully simulated.</span></span></code></pre></div><h3 id="Compare-well-responses-3" tabindex="-1">Compare well responses <a class="header-anchor" href="#Compare-well-responses-3" aria-label="Permalink to &quot;Compare well responses {#Compare-well-responses-3}&quot;">​</a></h3><h4 id="Bottom-hole-pressures-3" tabindex="-1">Bottom hole pressures <a class="header-anchor" href="#Bottom-hole-pressures-3" aria-label="Permalink to &quot;Bottom hole pressures {#Bottom-hole-pressures-3}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:bhp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:PRODUCER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></div><p><img src="`+r+'" alt=""></p><h4 id="Gas-rates-2" tabindex="-1">Gas rates <a class="header-anchor" href="#Gas-rates-2" aria-label="Permalink to &quot;Gas rates {#Gas-rates-2}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:qgs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:PRODUCER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></div><p><img src="'+o+'" alt=""></p><h4 id="Oil-rates-2" tabindex="-1">Oil rates <a class="header-anchor" href="#Oil-rates-2" aria-label="Permalink to &quot;Oil rates {#Oil-rates-2}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:qos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:PRODUCER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span></code></pre></div><p><img src="'+d+`" alt=""></p><h2 id="SPE9-(black-oil,-disgas)" tabindex="-1">SPE9 (black oil, disgas) <a class="header-anchor" href="#SPE9-(black-oil,-disgas)" aria-label="Permalink to &quot;SPE9 (black oil, disgas) {#SPE9-(black-oil,-disgas)}&quot;">​</a></h2><p>Example of the SPE9 model exported from MRST running in JutulDarcy.</p><p><a href="http://dx.doi.org/10.2118/29110-MS" target="_blank" rel="noreferrer">Killough, J. E. 1995. Ninth SPE comparative solution project: A reexamination of black-oil simulation. In SPE Reservoir Simulation Symposium, 12-15 February 1995, San Antonio, Texas. SPE 29110-MS</a></p><p>For comparison against other simulators, see the equivialent JutulSPE9 example in the Jutul module for <a href="https://www.mrst.no" target="_blank" rel="noreferrer">MRST</a></p><h3 id="Simulate-model-4" tabindex="-1">Simulate model <a class="header-anchor" href="#Simulate-model-4" aria-label="Permalink to &quot;Simulate model {#Simulate-model-4}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spe9 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> simulate_mrst_case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mrst_case_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;spe9&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), info_level </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> spe9</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">wells</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rep_t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> spe9</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mrst_solution</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(spe9);</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Reading input file /home/runner/work/JutulDarcy.jl/JutulDarcy.jl/src/../test/mrst/spe9.mat.</span></span>
<span class="line"><span>[ Info: This is the first call to simulate_mrst_case. Compilation may take some time...</span></span>
<span class="line"><span>\x1B[94;1mPVT:\x1B[0m Fixing table for low pressure conditions.</span></span>
<span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Starting simulation of black-oil system with 9000 cells and 3 phases and 3 components.</span></span>
<span class="line"><span>\x1B[94;1mMRST model:\x1B[0m Model was successfully simulated.</span></span></code></pre></div><h3 id="Compare-well-responses-4" tabindex="-1">Compare well responses <a class="header-anchor" href="#Compare-well-responses-4" aria-label="Permalink to &quot;Compare well responses {#Compare-well-responses-4}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">injectors </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:INJE1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">producers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Symbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PROD</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>25-element Vector{Symbol}:</span></span>
<span class="line"><span> :PROD1</span></span>
<span class="line"><span> :PROD2</span></span>
<span class="line"><span> :PROD3</span></span>
<span class="line"><span> :PROD4</span></span>
<span class="line"><span> :PROD5</span></span>
<span class="line"><span> :PROD6</span></span>
<span class="line"><span> :PROD7</span></span>
<span class="line"><span> :PROD8</span></span>
<span class="line"><span> :PROD9</span></span>
<span class="line"><span> :PROD10</span></span>
<span class="line"><span> ⋮</span></span>
<span class="line"><span> :PROD17</span></span>
<span class="line"><span> :PROD18</span></span>
<span class="line"><span> :PROD19</span></span>
<span class="line"><span> :PROD20</span></span>
<span class="line"><span> :PROD21</span></span>
<span class="line"><span> :PROD22</span></span>
<span class="line"><span> :PROD23</span></span>
<span class="line"><span> :PROD24</span></span>
<span class="line"><span> :PROD25</span></span></code></pre></div><h4 id="Injector-water-rate" tabindex="-1">Injector water rate <a class="header-anchor" href="#Injector-water-rate" aria-label="Permalink to &quot;Injector water rate {#Injector-water-rate}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:qws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, injectors)</span></span></code></pre></div><p><img src="`+E+'" alt=""></p><h4 id="Oil-rates-3" tabindex="-1">Oil rates <a class="header-anchor" href="#Oil-rates-3" aria-label="Permalink to &quot;Oil rates {#Oil-rates-3}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:qos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, producers)</span></span></code></pre></div><p><img src="'+g+'" alt=""></p><h4 id="Water-rates-2" tabindex="-1">Water rates <a class="header-anchor" href="#Water-rates-2" aria-label="Permalink to &quot;Water rates {#Water-rates-2}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:qws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, producers)</span></span></code></pre></div><p><img src="'+c+'" alt=""></p><h4 id="Bottom-hole-pressures-4" tabindex="-1">Bottom hole pressures <a class="header-anchor" href="#Bottom-hole-pressures-4" aria-label="Permalink to &quot;Bottom hole pressures {#Bottom-hole-pressures-4}&quot;">​</a></h4><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_comparison</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wells, ref, rep_t, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:bhp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, producers)</span></span></code></pre></div><p><img src="'+u+'" alt=""></p><h2 id="Example-on-GitHub" tabindex="-1">Example on GitHub <a class="header-anchor" href="#Example-on-GitHub" aria-label="Permalink to &quot;Example on GitHub {#Example-on-GitHub}&quot;">​</a></h2><p>If you would like to run this example yourself, it can be downloaded from the JutulDarcy.jl GitHub repository <a href="https://github.com/sintefmath/JutulDarcy.jl/blob/main/examples/validation_mrst.jl" target="_blank" rel="noreferrer">as a script</a>, or as a <a href="https://github.com/sintefmath/JutulDarcy.jl/blob/gh-pages/dev/final_site/notebooks/validation_mrst.ipynb" target="_blank" rel="noreferrer">Jupyter Notebook</a></p><hr><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl" target="_blank" rel="noreferrer">Literate.jl</a>.</em></p>',82)]))}const _=i(y,[["render",m]]);export{B as __pageData,_ as default};
