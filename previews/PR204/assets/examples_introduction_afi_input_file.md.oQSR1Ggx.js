import{_ as n,C as t,o as l,c as p,j as e,a as r,E as a,az as h}from"./chunks/framework.D_q745dN.js";const f=JSON.parse('{"title":"Set up a .AFI file for simulation","description":"","frontmatter":{},"headers":[],"relativePath":"examples/introduction/afi_input_file.md","filePath":"examples/introduction/afi_input_file.md","lastUpdated":null}'),o={name:"examples/introduction/afi_input_file.md"};function d(k,s,c,g,u,E){const i=t("ExampleTag");return l(),p("div",null,[s[0]||(s[0]=e("h1",{id:"Set-up-a-.AFI-file-for-simulation",tabindex:"-1"},[r("Set up a .AFI file for simulation "),e("a",{class:"header-anchor",href:"#Set-up-a-.AFI-file-for-simulation","aria-label":'Permalink to "Set up a .AFI file for simulation {#Set-up-a-.AFI-file-for-simulation}"'},"​")],-1)),a(i,{text:"Introduction",color:"rgb(72, 120, 208)"}),a(i,{text:"InputFile",color:"rgb(140, 97, 60)"}),s[1]||(s[1]=h(`<p>JutulDarcy has partial support for setting up and reading the .AFI file format. This example demonstrates how to load AFI files.</p><h2 id="Load-the-OLYMPUS-model" tabindex="-1">Load the OLYMPUS model <a class="header-anchor" href="#Load-the-OLYMPUS-model" aria-label="Permalink to &quot;Load the OLYMPUS model {#Load-the-OLYMPUS-model}&quot;">​</a></h2><p>We first load the Olympus model from a RESQML-based AFI file.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Jutul, JutulDarcy, GeoEnergyIO</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GeoEnergyIO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">test_input_file_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OLYMPUS_25_AFI_RESQML&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OLYMPUS_25.afi&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">case_olympus </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> setup_case_from_afi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fn);</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM START: Found 1 unhandled IX record types:</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">  HistoricalControlModes: 15 occurences.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">Regions: Only one region label found for region EQUILIBRATION_REGION, but did not find this region in the domain. Assuming all cells belong to this region.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM: GuideRateBalanceAction: Skipping record 63 for 2016-01-01T00:00:00, record not used by setup code.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM: ActionSequence: Skipping record 64 for 2016-01-01T00:00:00, record not used by setup code.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM: Strategy: Skipping record 65 for 2016-01-01T00:00:00, record not used by setup code.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM: Expression: Skipping record 66 for 2016-01-01T00:00:00, record not used by setup code.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM: Expression: Skipping record 67 for 2016-01-01T00:00:00, record not used by setup code.</span></span></code></pre></div><h2 id="Reading-files-with-a-pre-defined-reservoir" tabindex="-1">Reading files with a pre-defined reservoir <a class="header-anchor" href="#Reading-files-with-a-pre-defined-reservoir" aria-label="Permalink to &quot;Reading files with a pre-defined reservoir {#Reading-files-with-a-pre-defined-reservoir}&quot;">​</a></h2><p>Note that as the AFI support requires either inline mesh definitions or RESQML, and as such, not all files can be read directly. However, if we have already set up a reservoir model (for example from a DATA file), we can reuse the mesh and mesh properties from that model when setting up the AFI case. We set up SPE9 with a pre-defined reservoir model, bypassing the need for GSG support.</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spe9_dir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JutulDarcy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">GeoEnergyIO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">test_input_file_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SPE9&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">case </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> setup_case_from_data_file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">joinpath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(spe9_dir, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SPE9.DATA&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reservoir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> reservoir_domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(case)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GeoEnergyIO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">test_input_file_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SPE9_AFI_GSG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SPE9_clean_split.afi&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">case_ix </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> setup_case_from_afi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fn, reservoir </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reservoir);</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">PVT: Fixing table for low pressure conditions.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">Unsupported file extension gsg for include file /home/runner/.julia/artifacts/ea25e7af1dd72f49f8fd8e7a04170529dcec8011/SPE9_clean_SPE9.gsg (local path SPE9_clean_SPE9.gsg). - will be ignored.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">IX START: Found 1 unhandled IX record types:</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">  DrainageRadius: 26 occurences.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM START: Found 1 unhandled IX record types:</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">  HistoricalControlModes: 2 occurences.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM TIME 2015-10-28T00:00:00: Found 1 unhandled IX record types:</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">  HistoricalControlModes: 1 occurence.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM TIME 2015-12-27T00:00:00: Found 1 unhandled IX record types:</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">  HistoricalControlModes: 1 occurence.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">PVT: Fixing table for low pressure conditions.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">Regions: Only one region label found for region SATURATION_FUNCTION_DRAINAGE_TABLE_NO, but did not find this region in the domain. Assuming all cells belong to this region.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">Regions: Only one region label found for region SATURATION_FUNCTION_DRAINAGE_TABLE_NO, but did not find this region in the domain. Assuming all cells belong to this region.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">Regions: Only one region label found for region EQUILIBRATION_REGION, but did not find this region in the domain. Assuming all cells belong to this region.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM: FluidStreamMgr: Skipping record 1 for 2015-01-01T00:00:00, record not used by setup code.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM: Recurrent3DReport: Skipping record 32 for 2015-01-01T00:00:00, record not used by setup code.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM: Recurrent3DReport: Skipping record 33 for 2015-01-01T00:00:00, record not used by setup code.</span></span>
<span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">FM: END_INPUT: Skipping record 1 for 2017-06-19T00:00:00, record not used by setup code.</span></span></code></pre></div><h2 id="Example-on-GitHub" tabindex="-1">Example on GitHub <a class="header-anchor" href="#Example-on-GitHub" aria-label="Permalink to &quot;Example on GitHub {#Example-on-GitHub}&quot;">​</a></h2><p>If you would like to run this example yourself, it can be downloaded from the JutulDarcy.jl GitHub repository <a href="https://github.com/sintefmath/JutulDarcy.jl/blob/main/examples/introduction/afi_input_file.jl" target="_blank" rel="noreferrer">as a script</a>, or as a <a href="https://github.com/sintefmath/JutulDarcy.jl/blob/gh-pages/dev/final_site/notebooks/introduction/afi_input_file.ipynb" target="_blank" rel="noreferrer">Jupyter Notebook</a></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;">This example took 68.338571056 seconds to complete.</span></span></code></pre></div><hr><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl" target="_blank" rel="noreferrer">Literate.jl</a>.</em></p>`,14))])}const m=n(o,[["render",d]]);export{f as __pageData,m as default};
