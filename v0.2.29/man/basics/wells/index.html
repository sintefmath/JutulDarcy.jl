<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Wells and controls · JutulDarcy.jl</title><meta name="title" content="Wells and controls · JutulDarcy.jl"/><meta property="og:title" content="Wells and controls · JutulDarcy.jl"/><meta property="twitter:title" content="Wells and controls · JutulDarcy.jl"/><meta name="description" content="Documentation for JutulDarcy.jl."/><meta property="og:description" content="Documentation for JutulDarcy.jl."/><meta property="twitter:description" content="Documentation for JutulDarcy.jl."/><meta property="og:url" content="https://sintefmath.github.io/JutulDarcy.jl/man/basics/wells/"/><meta property="twitter:url" content="https://sintefmath.github.io/JutulDarcy.jl/man/basics/wells/"/><link rel="canonical" href="https://sintefmath.github.io/JutulDarcy.jl/man/basics/wells/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/citations.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.png" alt="JutulDarcy.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">JutulDarcy.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Introduction</span><ul><li><a class="tocitem" href="../../../">JutulDarcy.jl</a></li><li><a class="tocitem" href="../../intro/">Getting started</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../../examples/two_phase_gravity_segregation/">Gravity segregation</a></li><li><a class="tocitem" href="../../../examples/two_phase_buckley_leverett/">Two-phase Buckley-Leverett</a></li><li><a class="tocitem" href="../../../examples/two_phase_unstable_gravity/">Gravity circulation with CPR preconditioner</a></li><li><a class="tocitem" href="../../../examples/wells_intro/">Intro to wells</a></li><li><a class="tocitem" href="../../../examples/intro_sensitivities/">Intro to sensitivities in JutulDarcy</a></li><li><a class="tocitem" href="../../../examples/co2_sloped/">CO2 injection in saline aquifer</a></li><li><a class="tocitem" href="../../../examples/data_input_file/">Simulating Eclipse/DATA input files</a></li><li><a class="tocitem" href="../../../examples/five_spot_ensemble/">Quarter-five-spot with variation</a></li><li><a class="tocitem" href="../../../examples/co2_brine_2d_vertical/">Intro to compositional flow</a></li><li><a class="tocitem" href="../../../examples/compositional_5components/">Compositional with five components</a></li><li><a class="tocitem" href="../../../examples/optimize_simple_bl/">Parameter optimization of Buckley-Leverett</a></li><li><a class="tocitem" href="../../../examples/validation_spe1/">Validation: SPE1</a></li><li><a class="tocitem" href="../../../examples/validation_spe9/">Validation: SPE9</a></li><li><a class="tocitem" href="../../../examples/validation_compositional/">Validation: Compositional</a></li><li><a class="tocitem" href="../../../examples/validation_egg/">Validation: Egg</a></li><li><a class="tocitem" href="../../../examples/validation_olympus_1/">Validation: OLYMPUS 1</a></li><li><a class="tocitem" href="../../../examples/validation_norne_nohyst/">Validation: Norne</a></li><li><a class="tocitem" href="../../../examples/validation_mrst/">Validation: MRST input files</a></li></ul></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../highlevel/">High-level API</a></li><li><a class="tocitem" href="../input_files/">Input formats</a></li><li><a class="tocitem" href="../forces/">Driving forces</a></li><li><a class="tocitem" href="../systems/">Supported physical systems</a></li><li class="is-active"><a class="tocitem" href>Wells and controls</a><ul class="internal"><li><a class="tocitem" href="#Well-setup-routines"><span>Well setup routines</span></a></li><li><a class="tocitem" href="#Types-of-wells"><span>Types of wells</span></a></li><li><a class="tocitem" href="#Well-controls-and-limits"><span>Well controls and limits</span></a></li><li><a class="tocitem" href="#Well-forces"><span>Well forces</span></a></li></ul></li><li><a class="tocitem" href="../solution/">Solving the equations</a></li><li><a class="tocitem" href="../primary/">Primary variables</a></li><li><a class="tocitem" href="../secondary/">Secondary variables (properties)</a></li><li><a class="tocitem" href="../parameters/">Parameters</a></li><li><a class="tocitem" href="../plotting/">Plotting and visualization</a></li></ul></li><li><span class="tocitem">Advanced usage</span><ul><li><a class="tocitem" href="../../advanced/mpi/">Multi-threading and MPI support</a></li><li><a class="tocitem" href="../../advanced/compiled/">Standalone reservoir simulator</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../../../ref/jutul/">Jutul functions</a></li></ul></li><li><span class="tocitem">Additional information </span><ul><li><a class="tocitem" href="../../../extras/refs/">References</a></li><li><a class="tocitem" href="../../../extras/faq/">FAQ</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Wells and controls</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Wells and controls</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/sintefmath/JutulDarcy.jl/blob/main/docs/src/man/basics/wells.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Wells-and-controls"><a class="docs-heading-anchor" href="#Wells-and-controls">Wells and controls</a><a id="Wells-and-controls-1"></a><a class="docs-heading-anchor-permalink" href="#Wells-and-controls" title="Permalink"></a></h1><h2 id="Well-setup-routines"><a class="docs-heading-anchor" href="#Well-setup-routines">Well setup routines</a><a id="Well-setup-routines-1"></a><a class="docs-heading-anchor-permalink" href="#Well-setup-routines" title="Permalink"></a></h2><p>Wells can be set up using the convenience functions <a href="../../highlevel/#JutulDarcy.setup_well"><code>setup_well</code></a> and <a href="../../highlevel/#JutulDarcy.setup_vertical_well"><code>setup_vertical_well</code></a>. These routines act on the output from <a href="../../highlevel/#JutulDarcy.reservoir_domain"><code>reservoir_domain</code></a> and can set up both types of wells. We recommend that you use these functions instead of manually calling the well constructors.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.WellGroup" href="#JutulDarcy.WellGroup"><code>JutulDarcy.WellGroup</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">WellGroup(wells::Vector{Symbol}; can_shut_wells = true)</code></pre><p>Create a well group that can control the given set of wells.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L16-L20">source</a></section></article><h2 id="Types-of-wells"><a class="docs-heading-anchor" href="#Types-of-wells">Types of wells</a><a id="Types-of-wells-1"></a><a class="docs-heading-anchor-permalink" href="#Types-of-wells" title="Permalink"></a></h2><h3 id="Simple-wells"><a class="docs-heading-anchor" href="#Simple-wells">Simple wells</a><a id="Simple-wells-1"></a><a class="docs-heading-anchor-permalink" href="#Simple-wells" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.SimpleWell" href="#JutulDarcy.SimpleWell"><code>JutulDarcy.SimpleWell</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SimpleWell(reservoir_cells; &lt;keyword arguments&gt;)</code></pre><p>Set up a simple well.</p><p><strong>Note</strong></p><p><a href="../../highlevel/#JutulDarcy.setup_vertical_well"><code>setup_vertical_well</code></a> or <a href="../../highlevel/#JutulDarcy.setup_well"><code>setup_well</code></a> are the recommended way of setting up wells.</p><p><strong>Fields</strong></p><ul><li><p><code>volume</code></p></li><li><p><code>perforations</code></p></li><li><p><code>surface</code></p></li><li><p><code>name</code></p></li><li><p><code>explicit_dp</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/types.jl#L360-L374">source</a></section></article><h4 id="Equations"><a class="docs-heading-anchor" href="#Equations">Equations</a><a id="Equations-1"></a><a class="docs-heading-anchor-permalink" href="#Equations" title="Permalink"></a></h4><h3 id="Multisegment-wells"><a class="docs-heading-anchor" href="#Multisegment-wells">Multisegment wells</a><a id="Multisegment-wells-1"></a><a class="docs-heading-anchor-permalink" href="#Multisegment-wells" title="Permalink"></a></h3><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>WellDomain</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.MultiSegmentWell" href="#JutulDarcy.MultiSegmentWell"><code>JutulDarcy.MultiSegmentWell</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MultiSegmentWell(reservoir_cells, volumes, centers;
                N = nothing,
                name = :Well,
                perforation_cells = nothing,
                segment_models = nothing,
                segment_length = nothing,
                reference_depth = 0,
                dz = nothing,
                surface_conditions = default_surface_cond(),
                accumulator_volume = mean(volumes),
                )</code></pre><p>Create well perforated in a vector of <code>reservoir_cells</code> with corresponding <code>volumes</code> and cell <code>centers</code>.</p><p><strong>Note</strong></p><p><a href="../../highlevel/#JutulDarcy.setup_vertical_well"><code>setup_vertical_well</code></a> or <a href="../../highlevel/#JutulDarcy.setup_well"><code>setup_well</code></a> are the recommended way of setting up wells.</p><p><strong>Fields</strong></p><ul><li><p><code>volumes</code></p></li><li><p><code>perforations</code></p></li><li><p><code>neighborship</code></p></li><li><p><code>top</code></p></li><li><p><code>centers</code></p></li><li><p><code>surface</code></p></li><li><p><code>name</code></p></li><li><p><code>segment_models</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/types.jl#L407-L432">source</a></section></article><h2 id="Well-controls-and-limits"><a class="docs-heading-anchor" href="#Well-controls-and-limits">Well controls and limits</a><a id="Well-controls-and-limits-1"></a><a class="docs-heading-anchor-permalink" href="#Well-controls-and-limits" title="Permalink"></a></h2><h3 id="Types-of-well-controls"><a class="docs-heading-anchor" href="#Types-of-well-controls">Types of well controls</a><a id="Types-of-well-controls-1"></a><a class="docs-heading-anchor-permalink" href="#Types-of-well-controls" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.InjectorControl" href="#JutulDarcy.InjectorControl"><code>JutulDarcy.InjectorControl</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">InjectorControl(target, mix, density = 1.0, phases = ((1, 1.0)), temperature = 293.15)</code></pre><p>Well control that specifies injection into the reservoir. <code>target</code> specifies the type of target and <code>mix</code> defines the injection mass fractions for all species in the model during injection. </p><p>For example, for a three-component system made up of CO2, H2O and H2, setting [0.1, 0.6, 0.3] would mean that the injection stream would contain 1 part CO2, 6 parts H2O and 3 parts H2 by mass. For an immiscible system (e.g. <code>LiquidPhase(), VaporPhase()</code>) the species corresponds to phases and [0.3, 0.7] would mean a 3 to 7 mixture of liquid and vapor by mass.</p><p>The density of the injected fluid at surface conditions is given by <code>density</code> which is defaulted to 1.0 if not given.</p><p>See also <a href="#JutulDarcy.ProducerControl"><code>ProducerControl</code></a>, <a href="#JutulDarcy.DisabledControl"><code>DisabledControl</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L325-L340">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.ProducerControl" href="#JutulDarcy.ProducerControl"><code>JutulDarcy.ProducerControl</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ProducerControl(target)</code></pre><p>Well control for production out of the reservoir. <code>target</code> specifies the type of target (for example <code>BottomHolePressureTarget()</code>).</p><p>See also <a href="#JutulDarcy.DisabledControl"><code>DisabledControl</code></a>, <a href="#JutulDarcy.InjectorControl"><code>InjectorControl</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L364-L370">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.DisabledControl" href="#JutulDarcy.DisabledControl"><code>JutulDarcy.DisabledControl</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DisabledControl()</code></pre><p>Control that disables a well. If a well is disabled, it is disconnected from the surface network and no flow occurs between the well and the top side. Mass transfer can still occur inside the well, and between the well and the reservoir unless perforations are also closed by a <a href="#JutulDarcy.PerforationMask"><code>PerforationMask</code></a>.</p><p>See also <a href="#JutulDarcy.ProducerControl"><code>ProducerControl</code></a>, <a href="#JutulDarcy.InjectorControl"><code>InjectorControl</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L293-L302">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.replace_target" href="#JutulDarcy.replace_target"><code>JutulDarcy.replace_target</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">replace_target(ctrl, new_target)</code></pre><p>Create new well control using <code>ctrl</code> as a template that operates under <code>new_target</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L311-L315">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.default_limits" href="#JutulDarcy.default_limits"><code>JutulDarcy.default_limits</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_limits(ctrl)</code></pre><p>Create reasonable default limits for well control <code>ctrl</code>, for example to avoid BHP injectors turning into producers.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L278-L283">source</a></section></article><h3 id="Types-of-well-targets"><a class="docs-heading-anchor" href="#Types-of-well-targets">Types of well targets</a><a id="Types-of-well-targets-1"></a><a class="docs-heading-anchor-permalink" href="#Types-of-well-targets" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.BottomHolePressureTarget" href="#JutulDarcy.BottomHolePressureTarget"><code>JutulDarcy.BottomHolePressureTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">BottomHolePressureTarget(q, phase)</code></pre><p>Bottom-hole pressure (bhp) target with target pressure value <code>bhp</code>. A well operating under a bhp constraint will keep the well pressure at the bottom hole (typically the top of the perforations) fixed at this value unless doing so would violate other constraints, like the well switching from injection to production when declared as an injector.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; BottomHolePressureTarget(100e5)
BottomHolePressureTarget with value 100.0 [bar]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L82-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.SinglePhaseRateTarget" href="#JutulDarcy.SinglePhaseRateTarget"><code>JutulDarcy.SinglePhaseRateTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SinglePhaseRateTarget(q, phase)</code></pre><p>Single-phase well target with value <code>q</code> specified for <code>phase</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; SinglePhaseRateTarget(0.001, LiquidPhase())
SinglePhaseRateTarget of 0.001 [m^3/s] for LiquidPhase()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L103-L114">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.SurfaceLiquidRateTarget" href="#JutulDarcy.SurfaceLiquidRateTarget"><code>JutulDarcy.SurfaceLiquidRateTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SurfaceLiquidRateTarget(q)</code></pre><p>Well target of specified liquid rate at surface conditions with value <code>q</code>. Typically used for a <a href="#JutulDarcy.ProducerControl"><code>ProducerControl</code></a> as you have full control over the mixture composition during injection.</p><p>Liquid rate, sometimes abbreviated LRAT, is made up of the phases that remain liquid at surface conditions. Typically, this will be water and oil if present in the model, but never different types of gas. If a producing becomes nearly or completely flooded by gas the well can go to very high or even infinite flows. It is therefore important to combine this control with a limit such as a bottom-hole-pressure constraint.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L121-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.SurfaceOilRateTarget" href="#JutulDarcy.SurfaceOilRateTarget"><code>JutulDarcy.SurfaceOilRateTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SurfaceOilRateTarget(q)</code></pre><p>Well target of specified oil rate with value <code>q</code> at surface conditions. Typically used for a <a href="#JutulDarcy.ProducerControl"><code>ProducerControl</code></a> as oil, for economic reasons, is rarely injected into the subsurface. Abbreviated as ORAT in some settings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L145-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.SurfaceGasRateTarget" href="#JutulDarcy.SurfaceGasRateTarget"><code>JutulDarcy.SurfaceGasRateTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SurfaceGasRateTarget(q)</code></pre><p>Well target of specified gas rate with value <code>q</code> at surface conditions.</p><p>Often used for both <a href="#JutulDarcy.InjectorControl"><code>InjectorControl</code></a> <a href="#JutulDarcy.ProducerControl"><code>ProducerControl</code></a>. Abbreviated as GRAT in some settings. If used for production it is important to also impose limits, as the well rate may become very high if there is little gas present.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L162-L171">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.SurfaceWaterRateTarget" href="#JutulDarcy.SurfaceWaterRateTarget"><code>JutulDarcy.SurfaceWaterRateTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SurfaceWaterRateTarget(q)</code></pre><p>Well target of specified water rate with value <code>q</code> at surface conditions.</p><p>Often used for both <a href="#JutulDarcy.InjectorControl"><code>InjectorControl</code></a> <a href="#JutulDarcy.ProducerControl"><code>ProducerControl</code></a>. If used for production it is important to also impose limits, as the well rate may become very high if there is little water present.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L182-L190">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.TotalRateTarget" href="#JutulDarcy.TotalRateTarget"><code>JutulDarcy.TotalRateTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TotalRateTarget(q)</code></pre><p>Well target of specified total rate (sum of all phases) with value <code>q</code> at surface conditions.</p><p>Often used for both <a href="#JutulDarcy.InjectorControl"><code>InjectorControl</code></a> <a href="#JutulDarcy.ProducerControl"><code>ProducerControl</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L201-L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.HistoricalReservoirVoidageTarget" href="#JutulDarcy.HistoricalReservoirVoidageTarget"><code>JutulDarcy.HistoricalReservoirVoidageTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">HistoricalReservoirVoidageTarget(q, weights)</code></pre><p>Historical RESV target for history matching cases. See <a href="#JutulDarcy.ReservoirVoidageTarget"><code>ReservoirVoidageTarget</code></a>. For historical rates, the weights described in that target are computed based on the reservoir pressure and conditions at the previous time-step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L235-L242">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.ReservoirVoidageTarget" href="#JutulDarcy.ReservoirVoidageTarget"><code>JutulDarcy.ReservoirVoidageTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ReservoirVoidageTarget(q, weights)</code></pre><p>RESV target for history matching cases. The <code>weights</code> input should have one entry per phase (or pseudocomponent) in the system. The well control equation is then:</p><p><span>$|q_{ctrl} - \sum_i w_i q_i^s|$</span></p><p>where <span>$q_i^s$</span> is the surface rate of phase <span>$i$</span> and <span>$w_i$</span> the weight of component stream <span>$i$</span>.</p><p>This constraint is typically set up from .DATA files for black-oil and immiscible cases.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L249-L262">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.DisabledTarget" href="#JutulDarcy.DisabledTarget"><code>JutulDarcy.DisabledTarget</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DisabledTarget(q)</code></pre><p>Disabled target used when a well is under <code>DisabledControl()</code> only. The well will be disconnected from the surface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L268-L273">source</a></section></article><h3 id="Imposing-limits-on-wells-(multiple-constraints)"><a class="docs-heading-anchor" href="#Imposing-limits-on-wells-(multiple-constraints)">Imposing limits on wells (multiple constraints)</a><a id="Imposing-limits-on-wells-(multiple-constraints)-1"></a><a class="docs-heading-anchor-permalink" href="#Imposing-limits-on-wells-(multiple-constraints)" title="Permalink"></a></h3><h2 id="Well-forces"><a class="docs-heading-anchor" href="#Well-forces">Well forces</a><a id="Well-forces-1"></a><a class="docs-heading-anchor-permalink" href="#Well-forces" title="Permalink"></a></h2><h3 id="Changing-perforations"><a class="docs-heading-anchor" href="#Changing-perforations">Changing perforations</a><a id="Changing-perforations-1"></a><a class="docs-heading-anchor-permalink" href="#Changing-perforations" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JutulDarcy.PerforationMask" href="#JutulDarcy.PerforationMask"><code>JutulDarcy.PerforationMask</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">mask = PerforationMask(mask::Vector)</code></pre><p>Create a perforation mask. This can be passed to <a href="../../../ref/jutul/#Jutul.setup_forces-Tuple{JutulModel}"><code>setup_forces</code></a> for a well under the <code>mask</code> argument. The mask should equal the number of perforations in the well and is applied to the reference well indices in a multiplicative fashion. For example, if a well named <code>:Injector</code> has two perforations, the following mask would disable the first perforation and decrease the connection strength for the second perforation by 50%:</p><pre><code class="language-julia hljs">mask = PerforationMask([0.0, 0.5])
iforces = setup_forces(W, mask = mask)
forces = setup_reservoir_forces(model, control = controls, Injector = iforces)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sintefmath/JutulDarcy.jl/blob/983bad291980c1f0c231dc9fcdeea3ea5590b3cb/src/facility/types.jl#L494-L508">source</a></section></article><h3 id="Other-forces"><a class="docs-heading-anchor" href="#Other-forces">Other forces</a><a id="Other-forces-1"></a><a class="docs-heading-anchor-permalink" href="#Other-forces" title="Permalink"></a></h3><p>Can use <a href="../forces/#JutulDarcy.SourceTerm"><code>SourceTerm</code></a> or <a href="../forces/#JutulDarcy.FlowBoundaryCondition"><code>FlowBoundaryCondition</code></a></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../systems/">« Supported physical systems</a><a class="docs-footer-nextpage" href="../solution/">Solving the equations »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Sunday 8 September 2024 10:02">Sunday 8 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
